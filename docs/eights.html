<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>15-puzzle</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.js"></script>
    <script src="eights.js"></script>
    <link rel="stylesheet" href="eights.css">
</head>
<body>
    <svg id="field" width="600" height="600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
         style="padding-top: 10px; padding-left: 10px;">
    </svg>
    <div id="results" style="position: absolute; left: 600px; top: 20px;">
        <span style="font: bold 30px sans-serif">Current result: <span id="current_result">0</span></span>
        <br>
        <br>
        <span style="font: bold 30px sans-serif">Best result: <span id="best_result">inf</span></span>
        <br>
        <br>
        <span style="font: bold 30px sans-serif">Current time: <span id="stopwatch">00:00:00</span></span>
        <br>
        <br>
        <span style="font: bold 30px sans-serif">Best time: <span id="best_time">inf</span></span>
    </div>
</body>
<script>
    const current_version = "v0.11";
    let best_result = document.getElementById("best_result");
    let best_time = document.getElementById("best_time");
    if (!localStorage.getItem("version")) {
        localStorage.clear();
        localStorage.setItem("version", current_version);
    } else {
        // later we can refresh some information which will be updated
        if (current_version === localStorage.getItem("version")) {
            best_result.innerText = localStorage.getItem("best_result");
            best_time.innerHTML = localStorage.getItem("best_time");
        }
        localStorage.clear();
        localStorage.setItem("version", current_version);
    }
    localStorage.setItem("best_result", best_result.innerText);
    localStorage.setItem("best_time", best_time.innerText);
    generatingField();
</script>
</html>